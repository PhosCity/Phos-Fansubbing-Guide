
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Fansubbing Guide by Phos">
      
      
        <meta name="author" content="PhosCity">
      
      
      
        <link rel="prev" href="../Frame%20by%20Frame/">
      
      
        <link rel="next" href="../Motion%20Tracking%20Using%20Mocha/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Motion Tracking - Phos's Fansubbing Guide</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../styles/extra.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#motion-tracking" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Phos&#39;s Fansubbing Guide" class="md-header__button md-logo" aria-label="Phos's Fansubbing Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Phos's Fansubbing Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Motion Tracking
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/PhosCity/Phos-Fansubbing-Guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    PhosCity/Phos-Fansubbing-Guide
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../Background/" class="md-tabs__link">
          
  
  
  Typesetting Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Phos&#39;s Fansubbing Guide" class="md-nav__button md-logo" aria-label="Phos's Fansubbing Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Phos's Fansubbing Guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/PhosCity/Phos-Fansubbing-Guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    PhosCity/Phos-Fansubbing-Guide
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Typesetting Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Typesetting Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Background/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Background
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Aegisub%20Basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Aegisub Basics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Basic%20ASS%20Tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic ASS Tags
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Edit%20Box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Edit Box
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Subtitle%20Grid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Subtitle Grid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Video%20Box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Video Box
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Positioning%20and%20Aligning%20Subtitles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Positioning and Aligning Subtitles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rotating%20Subtitles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rotating Subtitles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Text%20Shearing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text Shearing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Scale%20Subtitles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scale Subtitles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Layers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Layers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blur/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blur
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Alpha/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Alpha
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Clips/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Clips
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Shapes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shapes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Fade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Move/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Move
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Transform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transform
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Perspective/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Perspective
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Font/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Font
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Aegisub%20Scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Aegisub Script
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Adding%20and%20Removing%20Tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Adding and Removing Tags
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Applying%20Fade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Applying Fade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blur%20and%20Glow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blur and Glow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Masking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Masking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Gradient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gradient
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Frame%20by%20Frame/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Frame by Frame
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Motion Tracking
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Motion Tracking
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mocha-pro-versus-blender" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mocha Pro versus Blender
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#x265-versus-ffmpeg" class="md-nav__link">
    <span class="md-ellipsis">
      
        x265 versus ffmpeg
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-aegisub-motion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring Aegisub Motion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-folders-using-ffmpeg" class="md-nav__link">
    <span class="md-ellipsis">
      
        Clean Folders Using ffmpeg
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trimming-a-video" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trimming a Video
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trimming a Video">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trim-vs-trim-each" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trim vs Trim Each
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-motion-tracking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generating Motion Tracking Data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applying-motion-tracking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Applying Motion Tracking Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Applying Motion Tracking Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matching-the-length-of-data-with-lines" class="md-nav__link">
    <span class="md-ellipsis">
      
        Matching the Length of Data with Lines
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aegisub-motion-apply-gui" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aegisub-Motion Apply GUI
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#track-clip-separately" class="md-nav__link">
    <span class="md-ellipsis">
      
        Track Clip Separately
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixing-the-clipboard-issue-in-linux" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fixing the Clipboard Issue in Linux
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deriving-motion-tracking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deriving Motion Tracking Data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#perspective-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Perspective Tracking
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Perspective Tracking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-aegisub-perspective-motion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Aegisub-Perspective Motion
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#derive-perspective-tracking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Derive Perspective Tracking Data
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Motion%20Tracking%20Using%20Mocha/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Motion Tracking Using Mocha
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Motion%20Tracking%20Using%20Blender/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Motion Tracking Using Blender
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Inner%20Shadow%20and%20Chromatic%20Abberation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inner Shadow and Chromatic Abberation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Gimp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gimp
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Handling%20Lines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Handling Lines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mocha-pro-versus-blender" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mocha Pro versus Blender
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#x265-versus-ffmpeg" class="md-nav__link">
    <span class="md-ellipsis">
      
        x265 versus ffmpeg
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-aegisub-motion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring Aegisub Motion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-folders-using-ffmpeg" class="md-nav__link">
    <span class="md-ellipsis">
      
        Clean Folders Using ffmpeg
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trimming-a-video" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trimming a Video
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trimming a Video">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trim-vs-trim-each" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trim vs Trim Each
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-motion-tracking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generating Motion Tracking Data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applying-motion-tracking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Applying Motion Tracking Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Applying Motion Tracking Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matching-the-length-of-data-with-lines" class="md-nav__link">
    <span class="md-ellipsis">
      
        Matching the Length of Data with Lines
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aegisub-motion-apply-gui" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aegisub-Motion Apply GUI
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#track-clip-separately" class="md-nav__link">
    <span class="md-ellipsis">
      
        Track Clip Separately
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixing-the-clipboard-issue-in-linux" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fixing the Clipboard Issue in Linux
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deriving-motion-tracking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deriving Motion Tracking Data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#perspective-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Perspective Tracking
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Perspective Tracking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-aegisub-perspective-motion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Aegisub-Perspective Motion
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#derive-perspective-tracking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Derive Perspective Tracking Data
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Home
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../Background/" class="md-path__link">
          
  <span class="md-ellipsis">
    Typesetting Guide
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="motion-tracking">Motion Tracking</h1>
<p>Motion tracking in typesetting refers to applying motion tracking data from
softwares like <a href="http://www.blender.org/">Blender</a>  or
<a href="https://borisfx.com/products/mocha-pro/">Mocha Pro</a> to match the motion of the
lines to an element of a video.</p>
<h2 id="installation">Installation</h2>
<ol>
<li>You need a software like <a href="http://www.blender.org/">Blender</a>  or
   <a href="https://borisfx.com/products/mocha-pro/">Mocha Pro</a> to generate the motion
   tracking data. See the comparison between them below.</li>
<li>You need a way to trim the video. You can either use the latest
   <a href="https://artifacts.videolan.org/x264/">x264</a> or <a href="https://ffmpeg.org/">ffmpeg</a>
   to trim the video. See the comparison between them below.</li>
<li>You also need an Aegisub script called <code>Aegisub Motion</code> (shortened to a-mo in
   conversation) from Dependency Control.</li>
</ol>
<h2 id="mocha-pro-versus-blender">Mocha Pro versus Blender</h2>
<p>I'll only highlight the differences here.</p>
<table>
<thead>
<tr>
<th>Subject</th>
<th>Mocha Pro</th>
<th>Blender</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cost</td>
<td>Paid</td>
<td>Free and Open Source</td>
</tr>
<tr>
<td>Tracking Method</td>
<td>Planar tracking i.e. tracks flat plane region across the video</td>
<td>Point tracking i.e. tracks a specific point in the video using the features around that point.</td>
</tr>
<tr>
<td>Output</td>
<td>Tracking data output is already available</td>
<td>External plugin is required to extract tracking data</td>
</tr>
<tr>
<td>Tracking Quality</td>
<td>Extremely robust (it is essentially industry standard)</td>
<td>The point tracking data has been repurposed for fansubbing purposes so it can sometimes produce jittery results (solved through smoothing of data) but surprisingly performs better in cases where mocha fails.</td>
</tr>
</tbody>
</table>
<p>I personally use both because why not. Many people will find Mocha Pro easier in
the first glance. I tend to prefer Blender and fall back to Mocha Pro when
Blender fails. If you are still unsure, I'd suggest to learn Mocha Pro first
and then later learn Blender.</p>
<h2 id="x265-versus-ffmpeg">x265 versus ffmpeg</h2>
<table>
<thead>
<tr>
<th>Subject</th>
<th>Mocha Pro</th>
<th>Blender</th>
</tr>
</thead>
<tbody>
<tr>
<td>Output</td>
<td>Single Video</td>
<td>One image for one frame of the video</td>
</tr>
<tr>
<td>Accuracy</td>
<td>Generally robust but in rare cases can lead to corrupted first or last frame in the video</td>
<td>Extremely robust</td>
</tr>
<tr>
<td>Availability</td>
<td>You have to use the x264 that can encode the video format you are working on</td>
<td>Works almost every time</td>
</tr>
</tbody>
</table>
<p>I always use ffmpeg. The output of multiple images kind of makes folder messy
but I will teach you a way to make a clean output folder using ffmpeg later on
if you decide to use it.</p>
<h2 id="configuring-aegisub-motion">Configuring Aegisub Motion</h2>
<p>Let's configure Aegisub Motion so we can tell how to trim videos. Install the
script Aegisub-Motion if you have not already. Once the script is loaded,
Go to <code>Automation -&gt; Aegisub-Motion -&gt; Trim Settings</code>. The following GUI will
pop up:</p>
<p><img alt="Aegisub-Motion trim settings" src="../assets/Motion%20Tracking/aegisub_motin_trim_settings.png" width="500" /></p>
<ol>
<li>
<p>In the first box, you can select where the trimmed video will be saved in.
Default is fine as <code>?video</code> will save the trimmed video in the same location as
the video currently loaded in Aegisub. Change it to <code>?script</code> if you want the
trimmed video to be saved in the folder where the currently loaded subtitle file
is located at.</p>
</li>
<li>
<p>The checkbox below it that says <code>Try to create prefix directory</code> will create any
folders that need to be made in order to save the video. Keep it checked.</p>
</li>
<li>
<p>Then below that you have a dropdown where you can either select <code>x264</code> or
<code>ffmpeg</code>. Select what you prefer.</p>
</li>
<li>
<p>If you are using Windows, press the <code>Encoder...</code> button. A file picker will be opened
where you must navigate to the executable file. Select <code>x264.exe</code> or <code>ffmpeg.exe</code>
file wherever you have chosen to keep it.</p>
<p>If you are a non Windows user, type <code>which ffmpeg</code> or <code>which x264</code>. Once you
know which folder, it is stored in, press the <code>Encoder...</code> button and navigate
to that folder and select <code>ffmpeg</code> or <code>x264</code> binary.</p>
</li>
<li>
<p>Then press <code>OK</code> button to save the settings.</p>
</li>
</ol>
<h2 id="clean-folders-using-ffmpeg">Clean Folders Using ffmpeg</h2>
<p>If you chose ffmpeg but don't want hundreds of images dumped in the same folder
as the main video, follow these steps to get clean folders.</p>
<ol>
<li>Open the config for Aegisub-Motion by going to <code>Automation -&gt; Aegisub-Motion
-&gt; Trim Settings</code>.</li>
<li>In the first box, type <code>?video\mocha</code> if you want to save the trimmed images
   in the same folder as the video loaded in Aegisub or <code>?script\mocha</code> if you
   want to save them in the same folder as the subtitle loaded in Aegisub.</li>
<li>Keep the <code>Try to create prefix directory</code> checked.</li>
<li>Select <code>ffmpeg</code> in the dropdown.</li>
<li>
<p>In the bottom most box,
    If you are a Windows user, copy and paste the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">mkdir</span> <span class="n">-Force</span> <span class="s2">&quot;#{prefix}\#{startf}-#{endf}&quot;</span><span class="p">;</span> <span class="p">&amp;</span> <span class="s2">&quot;#{encbin}&quot;</span> <span class="n">-ss</span> <span class="c">#{startt} -an -sn -i &quot;#{inpath}/#{input}&quot; -q:v 1 -vsync passthrough -frames:v #{lenf} &quot;#{prefix}\#{startf}-#{endf}/%05d.jpg&quot;</span>
</code></pre></div>
<p>If you are a non-Windows user, copy and paste the following:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;#{prefix}/#{startf}-#{endf}&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s2">&quot;#{encbin}&quot;</span><span class="w"> </span>-ss<span class="w"> </span><span class="c1">#{startt} -an -sn -i &quot;#{inpath}/#{input}&quot; -q:v 1 -vsync passthrough -frames:v #{lenf} &quot;#{prefix}/#{startf}-#{endf}/%05d.jpg&quot;</span>
</code></pre></div>
1. Click <code>OK</code> button to save the settings.</p>
</li>
</ol>
<p>What this will do is create a folder called mocha in your video or subtitle folder
and for each trim, it'll create a new sub folder with all the images for that sign
there.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It's not necessary but if you are interseted in how I made the command above,
you can follow the guide in
<a href="https://github.com/TypesettingTools/Aegisub-Motion/wiki/Trim-Configuration">this page</a>.</p>
</div>
<p><img alt="clean ffmpeg config" src="../assets/Motion%20Tracking/aegisub_motion_trim_settings_clean_ffmpeg.png" /></p>
<h2 id="trimming-a-video">Trimming a Video</h2>
<p>In order to facilitate the process of importing small, manageable sections of video
into your motion tracking software of choice, Aegisub-Motion provides a way to
automatically trim and encode the video that is currently loaded in Aegisub.</p>
<p>The script Aegisub-Motion ships with two separate trimming macros. They are called
<code>Trim</code> and <code>Trim Each</code>. I personally never use <code>Trim Each</code>. I bind <code>Automation
-&gt; Aegisub-Motion -&gt; Trim</code> to a hotkey and whenever I want to trim, I select a
line(s) and press that hotkey.</p>
<h3 id="trim-vs-trim-each"><code>Trim</code> vs <code>Trim Each</code></h3>
<p>The difference between <code>Trim</code> and <code>Trim Each</code> lies in how they calculate where to
trim the video.</p>
<p><code>Trim</code> looks at all of the selected lines and trims the video with
the start time as the start of the earliest line among selected lines and with
the end time as the end of the latest line among selected lines.</p>
<p><code>Trim Each</code> looks at each individual line in the selection and creates a trim for
each line separately. It's like selecting those lines one by one and running
<code>Trim</code>.</p>
<h2 id="generating-motion-tracking-data">Generating Motion Tracking Data</h2>
<p>If you have followed the steps above correctly, you now have Aegisub-Motion set
up correctly and now can trim a video. Once you have a trimmed video, you will
now have to load that trimmed video into either Mocha Pro or Blender to generate
motion tracking data.</p>
<p>Guides to using Mocha Pro and Blender will make this page too long so I have
separated them into their own pages. The next two pages in this guide will teach
you how to use Mocha Pro and Blender to generate motion tracking data
respectively.</p>
<p>So head on there and once you have a tracking data, come back to this page and
continue below on how to apply that motion tracking data to subtitles.</p>
<h2 id="applying-motion-tracking-data">Applying Motion Tracking Data</h2>
<p>So I'm going to assume you learned using the following two pages how to generate
motion tracking data. Once we have it, we need to apply the motion tracking data
to the subtitle.</p>
<h3 id="matching-the-length-of-data-with-lines">Matching the Length of Data with Lines</h3>
<p>First select all the lines where you need to apply the tracking data. The number
of frames in the selected line must be equal to the number of frames in the
tracking data. If you trim a video using a line and then apply the tracking data
to the same line, it will always match but if you try to apply the same tracking
data to another line, make sure that they have same length.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It does not mean that each line you select should be the same as the length
of tracking data. It means that the frame from the start of the earliest line
to the end of the latest line should match with the tracking data. Commented
lines are not counted in this.</p>
</div>
<h3 id="aegisub-motion-apply-gui">Aegisub-Motion Apply GUI</h3>
<p>In order to apply the tracking data to lines, we can use <code>Automation -&gt;
Aegisub-Motion -&gt; Apply</code>. The following GUI will appear.</p>
<p><img alt="aegisub motion apply gui" src="../assets/Motion%20Tracking/aegisub_motion_apply_gui.png" width="500" /></p>
<p>Let's understand this GUI first and then we shall see an example of its
application.</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data Box</td>
<td></td>
</tr>
<tr>
<td>x</td>
<td>If enabled, horizontal movement from the motion tracking data is used to change <code>\pos</code> tag</td>
</tr>
<tr>
<td>y</td>
<td>If enabled, vertical movement from the motion tracking data is used to change <code>\pos</code> tag</td>
</tr>
<tr>
<td>Origin</td>
<td>If enabled and <code>\org</code> tag exists in line, the <code>x</code> and <code>y</code> checkbox also changes <code>\org</code> the same way <code>\pos</code> is changed<br>Rotation from tracking data is not properly calculated so rotation and perspective may not be accurate when this is ticked.</td>
</tr>
<tr>
<td>Scale</td>
<td>If enabled, scale from the motion tracking data is used to change <code>\fscx</code> and <code>\fscy</code> tags.</td>
</tr>
<tr>
<td>Border</td>
<td>If enabled, the border of line is scaled along with scale of line<br>i.e. if line gets bigger, border also gets bigger and vice versa<br>Needs <code>Scale</code> to be enabled for it to work</td>
</tr>
<tr>
<td>Shadow</td>
<td>If enabled, the shadow of line is scaled along with scale of line<br>i.e. if line gets bigger, shadow also gets bigger and vice versa<br>Needs <code>Scale</code> to be enabled for it to work</td>
</tr>
<tr>
<td>Rotation</td>
<td>If enabled, rotation from the motion tracking data is used to change <code>\frz</code> tag.</td>
</tr>
<tr>
<td>Blur</td>
<td>If enabled, the blur of the line is scaled along with scale of line<br>i.e. if line gets bigger, blur also increases and vice bersa<br>Needs <code>Scale</code> to be enabled for it to work<br>Since blur does not scale linearly like border and shadow does, the box beside blur checkbox allows you to enter a factor to amplify the blur but I never use it. I'd rather use Frame-by-Frame transform if blur does not look correct after applying the data</td>
</tr>
<tr>
<td>Rect Clip</td>
<td>If enabled, the tracking data will also be applied to any rectangular clip if the clip exists in line</td>
</tr>
<tr>
<td>Vect Cliip</td>
<td>If enabled, the tracking data will also be applied to any vectorial clip if the clip exists in line</td>
</tr>
<tr>
<td>Rect -&gt; Vect</td>
<td>If enabled, rectangular clips present in the line will be converted to vectorial clip<br>Don't enable this since vectorial clip is more computationally expensive than rectangular clip</td>
</tr>
<tr>
<td>Interpolate transforms</td>
<td>If enabled, the values from the transform tags will be calculated for each frame and added to line<br>If disabled, an attempt to recalculate the transform time for each line is made<br>Any tags that motion tracking data will affect will not be transformed</td>
</tr>
<tr>
<td>Linear</td>
<td>If enabled, makes an attempt to apply the whole motion tracking data in a single line using transforms and move tags instead of splitting it frame by frame<br>It will succeed if the motion is actually linear but if it is not, this will fail spectacularly</td>
</tr>
<tr>
<td>Relative</td>
<td>Explained in more detail below</td>
</tr>
<tr>
<td>Clip Only</td>
<td>Only apply the tracking data to the rectangular or vectorial clip present in the line and nothing else</td>
</tr>
<tr>
<td>Absolute</td>
<td>This takes position in the tracking data and applies it to lines<br>I never use it and you don't have to either. Just give position to line in Aegisub and use that</td>
</tr>
</tbody>
</table>
<h4 id="relative">Relative</h4>
<p>I wanted to explain this separately because this is kind of important. Before
you apply the motion tracking data, you will obviously have a line that will
have a certain position, scale, border and so on. Aegisub-Motion has to take
these tag values as reference and then apply motion tracking data to it. So
Aegisub-Motion will either reduce or add values in reference to these tag
values.</p>
<p>Most of the time, we will set these reference tags in the first frame of the
line. However, you will find situations where this is not possible. So you can
then press <span class="keys"><kbd class="key-arrow-right">Right</kbd></span> until you reach a frame where you can add reference
tags. But then you will have to tell Aegisub-Motion to consider this when
applying the motion tracking data.</p>
<p>This is where <code>Relative</code> comes in. In the GUI above, you will see checkbox named
<code>Relative</code> with a box beside it. The number in this box is the reference frame.
If the box has 1, it means the tags in the selected line looks ok for the frame
1 but for any other frame, we will have to apply motion tracking data for it to
look ok.</p>
<p>But let's say that the you can't style the tags in first frame and you instead
typesetted a line in 120th frame after the start. You could type the number 120
manually in the box of course but if you are already in that frame in <code>Video
Box</code>, you can open the <code>Apply</code> GUI and it will automatically fill it for you.</p>
<h2 id="example">Example</h2>
<figure>
    <video width="2560" height="1556" controls>
        <source src="../assets/Motion Tracking Using Blender/blender_tracking_example.mp4" type="video/mp4">
    Your browser does not support the video tag.
    </video>
    <figcaption><a href="https://anilist.co/anime/110178/Isekai-Quartet-2/">Isekai Quartet 2</a> - Episode 08: 0:06:33 </figcaption>
</figure>

<p>A pretty simple example with just zoom.</p>
<video width="2560" height="1554" controls>
    <source src="../assets/Motion Tracking/applying_data.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>

<h2 id="track-clip-separately">Track Clip Separately</h2>
<p>TODO</p>
<h2 id="fixing-the-clipboard-issue-in-linux">Fixing the Clipboard Issue in Linux</h2>
<p>If you have motion tracking data in clipboard and you open the <code>Apply</code> GUI,
the data box will automatically be filled from your clipboard but not if you are
in Linux. This is outrageous. It's unfair. So let's fix it.</p>
<p>Go to the folder where Aegisub scripts are located in. Find the file
<code>a-mo.Aegisub-Motion.moon</code> and open it in any text editor of your choice.
In <a href="https://github.com/TypesettingTools/Aegisub-Motion/blob/9719ce019a33b2a27a0e874d944e2d476738a63f/Aegisub-Motion.moon#L160C2-L160C53">line 160</a>, change</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">dataString</span> <span class="o">=</span> <span class="kt">(</span><span class="n">jit</span><span class="o">.</span><span class="n">os</span> <span class="o">!=</span> <span class="s2">&quot;</span><span class="s">Linux</span><span class="s2">&quot;</span><span class="kt">)</span> <span class="k">and</span> <span class="n">clipboard</span><span class="o">.</span><span class="n">get</span><span class="o">!</span>
</code></pre></div>
<p>to</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">dataString</span> <span class="o">=</span> <span class="n">clipboard</span><span class="o">.</span><span class="n">get</span><span class="o">!</span>
</code></pre></div>
<p>Now it should also work in Linux. This is because arch1t3ct fixed the clipboard
issue in his fork.</p>
<h2 id="deriving-motion-tracking-data">Deriving Motion Tracking Data</h2>
<p>There are cases where you have a motion tracked lines in Aegisub but no longer
have the motion tracking data that created those lines. If you need the tracking
data again (perhaps to apply it to another line), you could motion track the
sign in Mocha Pro or Blender again but there is a better way. You can derive the
motion tracking data from the lines in Aegisub.</p>
<p>You can do that using an Aegisub script called <code>Derive Track</code> by The0x539. It is
not in Dependency Control so you will have to install using manual method by
downloading the script from the <a href="https://github.com/The0x539/Aegisub-Scripts/blob/trunk/src/0x.DeriveTrack.moon">github repo</a>
If you forgot how to install Aegisub scripts manually, refer back to the guide
again.</p>
<p>To use this, select the lines which was created by applying motion tracking
data, go to <code>Automation -&gt; Aegisub-Motion -&gt; Derive</code>. A text box with motion
tracking data will appear. Just copy it and use it like a normal motion tracking
data.</p>
<p>Essentially, the selected lines
must be greater than two in number, must have same text, must be
consecutive in time, have same layer and should either all be commented or
all be uncommented for you to be able to use this script to derive motion
tracking data.</p>
<p>If you made changes after applying motion tracking data to line
like applying <code>Blur and Tag</code> script, you cannot run this. You'd have to select
all the lines that have same layer for this to work.</p>
<p>You can also use the lines made by Frame by Frame transform to derive motion
tracking data from it.</p>
<h2 id="perspective-tracking">Perspective Tracking</h2>
<p>This is Aegisub-Motion but for handling cases where the perspective of the sign
changes. For Aegisub-Motion, you would use <code>After Effects Transform Data</code> from
Mocha Pro or Blender but this script requires you to export <code>After Effects Power
Pin</code> data from those programs.</p>
<p>The script we will use is called <code>Aegisub-Perscptive Motion</code> (shortened to
pers-mo in conversation) by arch1t3ct. It is available in Dependency Control for
you to install. The GUI of that script looks like this:</p>
<p><img alt="pers-mo gui" src="../assets/Motion%20Tracking/aegisub_perspective_motion_gui.png" width="650" /></p>
<p>Let's talk about few elements of the GUI:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Apply Perspective</td>
<td>Enable it if you have not added perspective to the lines using perspective tool in Aegisub.<br>When this is enabled, appropriate perspective transformation is derived from the power-pin data.<br>If the script finds perspective tags on the line, it will uncheck this automatically</td>
</tr>
<tr>
<td>Relative to frame</td>
<td>Just like relative to frame of Aegisub-Motion as explained above</td>
</tr>
<tr>
<td>\org mode</td>
<td>The dropdown consists of the same options that perspective tool has<br>Refer back to that page to find out what they mean</td>
</tr>
<tr>
<td>Add quad to extradata</td>
<td>If enabled, adds the quad data to each line's extradata just like the perspective tool adds when you use it</td>
</tr>
<tr>
<td>Track Position</td>
<td>If enabled, the position of the line will be updated using the power-pin data</td>
</tr>
<tr>
<td>Track Clips</td>
<td>Just like above but for clips</td>
</tr>
<tr>
<td>Scale \bord and \shad</td>
<td>Scale border and shadow up or down based on the scale of the line</td>
</tr>
</tbody>
</table>
<h3 id="using-aegisub-perspective-motion">Using Aegisub-Perspective Motion</h3>
<ol>
<li>If the power-pin data is in clipboard when you open this script, it should be
    auto-filled in GUI of Aegisub-Perspective-Motion.</li>
<li>If the power-pin data is in some file, it can be manually copied and pasted in
   the textbox of the GUI.</li>
<li>If the user manually uses Aegisub to apply perspective to the line (which is
   recommended), Aegisub-Perspective-Motion will untick the <code>Apply Perspective</code>
   checkbox automatically. If <code>Apply Perspective</code> is ticked, then
   Aegisub-Perspective-Motion will attempt to apply the perspective using the
   power-pin data.</li>
<li>Click <code>Ok</code> button to apply.</li>
</ol>
<p>TODO: Add example</p>
<h2 id="derive-perspective-tracking-data">Derive Perspective Tracking Data</h2>
<p>Just like motion tracking data for Aegisub-Motion could be derived, the
power-pin data for the Aegisub-Perspective Motion can also be derived. We do
this using a script called <code>Derive Perspective Track</code> by arch1t3ct. Install it
from Dependency Control. It's usage is similar to the <code>Derive Track</code> script as
explained above.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../Frame%20by%20Frame/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Frame by Frame">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Frame by Frame
              </div>
            </div>
          </a>
        
        
          
          <a href="../Motion%20Tracking%20Using%20Mocha/" class="md-footer__link md-footer__link--next" aria-label="Next: Motion Tracking Using Mocha">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Motion Tracking Using Mocha
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.instant.preview", "navigation.instant.progress", "navigation.instant.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top", "navigation.path", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>